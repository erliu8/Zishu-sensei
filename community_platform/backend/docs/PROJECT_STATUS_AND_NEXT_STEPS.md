# ğŸ¯ é¡¹ç›®ç°çŠ¶ä¸ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’

**ç”Ÿæˆæ—¶é—´**: 2025-11-02  
**åŸºäºçº¦æŸ**: æ— ç»è´¹ã€äº‘æœåŠ¡å™¨èµ„æºæœ‰é™ã€çº¯æœ¬åœ°åŒ–æ–¹æ¡ˆ

---

## ğŸ“Š ä¸€ã€å½“å‰é¡¹ç›®å®Œæˆæƒ…å†µ

### âœ… 1. ç¤¾åŒºå¹³å°åç«¯ (FastAPI) - **å®Œæˆåº¦ 85%**

#### å·²å®Œæˆï¼š
- âœ… **å®Œæ•´çš„ API è·¯ç”±ç³»ç»Ÿ**
  - è®¤è¯ç³»ç»Ÿ (æ³¨å†Œã€ç™»å½•ã€JWT)
  - ç”¨æˆ·ç®¡ç† (ä¸ªäººèµ„æ–™ã€å…³æ³¨ã€ç²‰ä¸)
  - å¸–å­ç³»ç»Ÿ (CRUDã€ç‚¹èµã€è¯„è®º)
  - æœç´¢åŠŸèƒ½ (æ–‡æœ¬æœç´¢ã€å‘é‡æœç´¢)
  - é€šçŸ¥ç³»ç»Ÿ
  - WebSocket å®æ—¶é€šä¿¡

- âœ… **æ•°æ®åº“æ¶æ„**
  - PostgreSQL æ•°æ®æ¨¡å‹
  - Redis ç¼“å­˜
  - Qdrant å‘é‡æ•°æ®åº“
  - Alembic æ•°æ®åº“è¿ç§»ç³»ç»Ÿ

- âœ… **æ‰“åŒ…æœåŠ¡åŸºç¡€æ¶æ„**
  - `PackagingService` ç±»å·²å®ç°
  - ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ
  - æ‰“åŒ…æµç¨‹æ¡†æ¶
  - æ–‡ä»¶å¤„ç†å·¥å…·

- âœ… **å¼€å‘ç¯å¢ƒé…ç½®**
  - Docker Compose å®Œæ•´é…ç½®
  - æµ‹è¯•æ¡†æ¶ (pytest)
  - API æ–‡æ¡£ (è‡ªåŠ¨ç”Ÿæˆ)

#### å¾…å®Œæˆï¼š
- â³ **æµ‹è¯•ä¿®å¤** (ä¼˜å…ˆçº§: é«˜)
  - æ•°æ®åº“è¡¨ç»“æ„åˆå§‹åŒ–
  - bcrypt å…¼å®¹æ€§é—®é¢˜
  - æå‡æµ‹è¯•è¦†ç›–ç‡åˆ° 80%+

- â³ **é€‚é…å™¨ç®¡ç† API**
  - é€‚é…å™¨ä¸Šä¼ /ä¸‹è½½
  - é€‚é…å™¨ç‰ˆæœ¬ç®¡ç†
  - é€‚é…å™¨å¸‚åœºæµè§ˆ

---

### âœ… 2. ç¤¾åŒºå¹³å°å‰ç«¯ (Next.js) - **å®Œæˆåº¦ 75%**

#### å·²å®Œæˆï¼š
- âœ… **æ ¸å¿ƒé¡µé¢**
  - è§’è‰²åˆ›å»º/ç¼–è¾‘é¡µé¢
  - è§’è‰²è¯¦æƒ…å±•ç¤º
  - è§’è‰²æ¨¡æ¿æµè§ˆ
  - é€‚é…å™¨å¸‚åœº
  - æ‰“åŒ…é¡µé¢
  - ç”¨æˆ·ä¸ªäººèµ„æ–™

- âœ… **æ ¸å¿ƒç»„ä»¶**
  - CharacterCreator (è§’è‰²åˆ›å»ºå™¨)
  - Live2D æ¨¡å‹é€‰æ‹©å™¨
  - LoRA é€‚é…å™¨é€‰æ‹©å™¨
  - æ’ä»¶é€‰æ‹©å™¨
  - è®¤è¯ç»„ä»¶ (ç™»å½•/æ³¨å†Œ)

- âœ… **åŸºç¡€è®¾æ–½**
  - å›½é™…åŒ– (i18n)
  - ä¸»é¢˜åˆ‡æ¢
  - å“åº”å¼å¸ƒå±€
  - æ— éšœç¢åŠŸèƒ½

#### å¾…å®Œæˆï¼š
- â³ **èµ„æºä¸‹è½½ç³»ç»Ÿ**
  - æ¡Œé¢åº”ç”¨ä¸‹è½½é¡µé¢
  - èµ„æºåŒ…æ‰¹é‡ä¸‹è½½
  - ä¸‹è½½è¿›åº¦è¿½è¸ª

- â³ **æ¨¡æ¿ä¿å­˜åŠŸèƒ½**
  - è§’è‰²æ¨¡æ¿äº‘ç«¯ä¿å­˜
  - æ¨¡æ¿åˆ†äº«åŠŸèƒ½

---

### ğŸ”§ 3. æ¡Œé¢åº”ç”¨ (Tauri + React) - **å®Œæˆåº¦ 40%**

#### å·²å®Œæˆï¼š
- âœ… **é¡¹ç›®ç»“æ„**
  - Tauri é…ç½®å®Œæˆ
  - React + TypeScript å‰ç«¯æ¡†æ¶
  - åŸºç¡€ç›®å½•ç»“æ„

- âœ… **åŸºç¡€æ–‡æ¡£**
  - å¼€å‘æŒ‡å—
  - æ¶æ„è¯´æ˜

#### å¾…å®Œæˆï¼š
- â³ **æ ¸å¿ƒåŠŸèƒ½å¼€å‘** (ä¼˜å…ˆçº§: æœ€é«˜)
  - Live2D æ¸²æŸ“å¼•æ“é›†æˆ
  - æœ¬åœ° AI æ¨ç†å¼•æ“
  - èµ„æºç®¡ç†ç³»ç»Ÿ (ä¸‹è½½ã€å®‰è£…ã€æ›´æ–°)
  - æ¨¡æ¿å¯¼å…¥/åº”ç”¨åŠŸèƒ½
  - ä¸ç¤¾åŒºå¹³å°çš„ API å¯¹æ¥

- â³ **æœ¬åœ°æœåŠ¡**
  - æœ¬åœ° HTTP æœåŠ¡å™¨ (ç”¨äº AI æ¨ç†)
  - èµ„æºä¸‹è½½ç®¡ç†å™¨
  - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ

---

## ğŸ—ï¸ äºŒã€åŸºäºæ–°çº¦æŸçš„æ¶æ„è°ƒæ•´æ–¹æ¡ˆ

### ğŸ¯ æ ¸å¿ƒåŸåˆ™

```
äº‘ç«¯è½»é‡åŒ– + æœ¬åœ°é‡åº¦åŒ–

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¤¾åŒºå¹³å° (äº‘ç«¯)                        â”‚
â”‚  èŒè´£: èµ„æºåˆ†å‘ + æ¨¡æ¿ç®¡ç† + ç¤¾äº¤äº’åŠ¨                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… è§’è‰²æ¨¡æ¿å…ƒæ•°æ®å­˜å‚¨                                    â”‚
â”‚  âœ… èµ„æºæ–‡ä»¶æ‰˜ç®¡ (OSS/CDN)                               â”‚
â”‚  âœ… ç”¨æˆ·è®¤è¯å’Œç¤¾äº¤åŠŸèƒ½                                    â”‚
â”‚  âœ… èµ„æºæœç´¢å’Œæ¨è                                        â”‚
â”‚  âŒ ä¸æä¾› AI æ¨ç†                                        â”‚
â”‚  âŒ ä¸å­˜å‚¨å¤§æ¨¡å‹                                          â”‚
â”‚  âŒ ä¸æ‰§è¡Œæ‰“åŒ…ä»»åŠ¡                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ ä¸‹è½½
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ¡Œé¢åº”ç”¨ (æœ¬åœ°)                         â”‚
â”‚  èŒè´£: èµ„æºç»„è£… + AI æ¨ç† + æ‰“åŒ…æ‰§è¡Œ                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… ä¸‹è½½æ‰€æœ‰èµ„æºåˆ°æœ¬åœ°                                    â”‚
â”‚  âœ… ç®¡ç† Live2D æ¨¡å‹ã€LoRAã€åŸºç¡€æ¨¡å‹                      â”‚
â”‚  âœ… æœ¬åœ° AI æ¨ç† (è°ƒç”¨æœ¬åœ°æ¨¡å‹)                           â”‚
â”‚  âœ… åº”ç”¨è§’è‰²æ¨¡æ¿                                          â”‚
â”‚  âœ… æ‰§è¡Œæ‰“åŒ…ç”Ÿæˆç‹¬ç«‹åº”ç”¨                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ“¦ èµ„æºåˆ†å‘ç­–ç•¥

#### 1. **äº‘ç«¯èµ„æºå­˜å‚¨**ï¼ˆä½æˆæœ¬æ–¹æ¡ˆï¼‰

```yaml
é€‰é¡¹ A: å¯¹è±¡å­˜å‚¨ OSSï¼ˆæ¨èï¼‰
  - é˜¿é‡Œäº‘ OSS / è…¾è®¯äº‘ COS / AWS S3
  - æŒ‰é‡ä»˜è´¹ï¼Œæˆæœ¬ä½
  - å¤©ç„¶æ”¯æŒ CDN åŠ é€Ÿ
  - é€‚åˆå­˜å‚¨ï¼š
    âœ“ Live2D æ¨¡å‹åŒ… (~10-50MB/ä¸ª)
    âœ“ LoRA é€‚é…å™¨ (~50-200MB/ä¸ª)
    âœ“ æ¡Œé¢åº”ç”¨å®‰è£…åŒ… (~100-300MB)

é€‰é¡¹ B: GitHub Releasesï¼ˆå…è´¹ï¼‰
  - å®Œå…¨å…è´¹
  - æ¯ä¸ªæ–‡ä»¶æœ€å¤§ 2GB
  - å…¨çƒ CDN
  - é€‚åˆå¼€æºé¡¹ç›®
  
é€‰é¡¹ C: æ··åˆæ–¹æ¡ˆ
  - æ¡Œé¢åº”ç”¨ â†’ GitHub Releases
  - å°æ–‡ä»¶èµ„æº â†’ OSS
  - å¤§æ¨¡å‹ â†’ ç”¨æˆ·è‡ªè¡Œä¸‹è½½ï¼ˆæä¾›é“¾æ¥ï¼‰
```

#### 2. **èµ„æºæ¸…å•è®¾è®¡**

```json
{
  "template_id": "char_template_001",
  "name": "åƒå¯»å…ˆç”Ÿæ¨¡æ¿",
  "version": "1.0.0",
  "resources": {
    "live2d_model": {
      "name": "shizuka_v1",
      "download_url": "https://cdn.zishu.ai/models/live2d/shizuka_v1.zip",
      "size_mb": 25,
      "checksum": "sha256:abc123...",
      "required": true
    },
    "lora_adapter": {
      "name": "shizuka_personality",
      "download_url": "https://cdn.zishu.ai/lora/shizuka_v1.safetensors",
      "size_mb": 156,
      "checksum": "sha256:def456...",
      "required": true,
      "base_model": "Qwen2.5-7B"
    },
    "base_model": {
      "name": "Qwen2.5-7B",
      "type": "external_reference",
      "download_sources": [
        "https://modelscope.cn/models/Qwen/Qwen2.5-7B-Instruct",
        "https://huggingface.co/Qwen/Qwen2.5-7B-Instruct"
      ],
      "size_gb": 14,
      "required": true,
      "notes": "è¯·ä»ä¸Šè¿°é“¾æ¥ä¸‹è½½åˆ°æœ¬åœ°"
    },
    "plugins": [
      {
        "name": "file_operations",
        "download_url": "https://cdn.zishu.ai/plugins/file_ops_v1.zip",
        "size_mb": 5,
        "required": false
      }
    ]
  },
  "config": {
    "prompt_template": "...",
    "generation_params": {...}
  }
}
```

---

## ğŸ¬ ä¸‰ã€ä¸¤ä¸ªæ ¸å¿ƒåœºæ™¯çš„å®ç°æ–¹æ¡ˆ

### åœºæ™¯ 1ï¸âƒ£: åœ¨ç¤¾åŒºå¹³å°å®Œæˆæ¨¡æ¿ â†’ ä¸‹è½½ä¸€åˆ‡

```
ç”¨æˆ·æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ç”¨æˆ·åœ¨ç¤¾åŒºå¹³å° Web ç•Œé¢                               â”‚
â”‚    â”œâ”€ é€‰æ‹© Live2D æ¨¡å‹                                   â”‚
â”‚    â”œâ”€ é€‰æ‹© LoRA é€‚é…å™¨                                   â”‚
â”‚    â”œâ”€ é€‰æ‹©åŸºç¡€æ¨¡å‹ (Qwen/Llama/...)                      â”‚
â”‚    â”œâ”€ é…ç½®è§’è‰²æ€§æ ¼ã€å¯¹è¯é£æ ¼                              â”‚
â”‚    â””â”€ æ·»åŠ æ’ä»¶ (å¯é€‰)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. ä¿å­˜æ¨¡æ¿ / ä¸€é”®ä¸‹è½½                                   â”‚
â”‚    é€‰é¡¹ A: "ä¿å­˜æ¨¡æ¿" â†’ å­˜å‚¨åˆ°äº‘ç«¯ï¼Œéšæ—¶ä½¿ç”¨              â”‚
â”‚    é€‰é¡¹ B: "ä¸€é”®ä¸‹è½½æ‰€æœ‰èµ„æº" â†’ ç”Ÿæˆä¸‹è½½æ¸…å•              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ä¸‹è½½é¡µé¢                                              â”‚
â”‚    âœ“ æ¡Œé¢åº”ç”¨å®‰è£…åŒ… (Windows/macOS/Linux)                â”‚
â”‚    âœ“ Live2D æ¨¡å‹åŒ…                                       â”‚
â”‚    âœ“ LoRA é€‚é…å™¨                                         â”‚
â”‚    âœ“ æ’ä»¶åŒ…                                              â”‚
â”‚    âœ“ åŸºç¡€æ¨¡å‹ä¸‹è½½æŒ‡å— (é“¾æ¥åˆ° ModelScope/HuggingFace)    â”‚
â”‚    âœ“ æ¨¡æ¿é…ç½®æ–‡ä»¶ (template.json)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. æœ¬åœ°å®‰è£…                                              â”‚
â”‚    ç”¨æˆ·æ‰‹åŠ¨:                                              â”‚
â”‚    â”œâ”€ å®‰è£…æ¡Œé¢åº”ç”¨                                        â”‚
â”‚    â”œâ”€ å°†ä¸‹è½½çš„èµ„æºæ”¾åˆ°æŒ‡å®šç›®å½•                            â”‚
â”‚    â””â”€ åœ¨æ¡Œé¢åº”ç”¨å†…å¯¼å…¥æ¨¡æ¿é…ç½®æ–‡ä»¶                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å®ç°è¦ç‚¹ï¼š

**A. ç¤¾åŒºå¹³å°å‰ç«¯**
```typescript
// è§’è‰²æ¨¡æ¿ä¿å­˜
const saveTemplate = async (config: CharacterConfig) => {
  const response = await fetch('/api/v1/character-templates', {
    method: 'POST',
    body: JSON.stringify({
      name: config.name,
      live2d_model_id: config.live2dModelId,
      lora_adapter_id: config.loraAdapterId,
      base_model: config.baseModel,
      plugins: config.plugins,
      personality_config: config.personality,
      is_public: config.isPublic
    })
  });
  
  return response.json();
};

// ç”Ÿæˆä¸‹è½½æ¸…å•
const generateDownloadManifest = async (templateId: string) => {
  const response = await fetch(`/api/v1/character-templates/${templateId}/download-manifest`);
  const manifest = await response.json();
  
  // è¿”å›:
  // {
  //   desktop_app: { url, checksum, size },
  //   resources: [ { type, name, url, checksum, size } ],
  //   base_model_instructions: "..."
  // }
  
  return manifest;
};
```

**B. ç¤¾åŒºå¹³å°åç«¯ API**
```python
# æ–°å¢ç«¯ç‚¹

@router.post("/character-templates")
async def create_character_template(
    template: CharacterTemplateCreate,
    user: User = Depends(get_current_user),
    db: AsyncSession = Depends(get_db)
):
    """ä¿å­˜è§’è‰²æ¨¡æ¿"""
    # ä¿å­˜åˆ°æ•°æ®åº“
    # è¿”å›æ¨¡æ¿ ID
    pass

@router.get("/character-templates/{template_id}/download-manifest")
async def get_download_manifest(
    template_id: str,
    db: AsyncSession = Depends(get_db)
):
    """ç”Ÿæˆä¸‹è½½æ¸…å•"""
    template = await get_template(db, template_id)
    
    manifest = {
        "desktop_app": {
            "url": "https://github.com/zishu-ai/releases/latest/download/zishu-setup.exe",
            "size_mb": 150,
            "checksum": "..."
        },
        "resources": [],
        "template_config": template.config,
        "instructions": "å®‰è£…è¯´æ˜..."
    }
    
    # æ·»åŠ  Live2D æ¨¡å‹
    if template.live2d_model_id:
        model = await get_live2d_model(db, template.live2d_model_id)
        manifest["resources"].append({
            "type": "live2d_model",
            "name": model.name,
            "url": model.download_url,
            "size_mb": model.size_mb,
            "checksum": model.checksum
        })
    
    # æ·»åŠ  LoRA é€‚é…å™¨
    if template.lora_adapter_id:
        lora = await get_lora_adapter(db, template.lora_adapter_id)
        manifest["resources"].append({
            "type": "lora_adapter",
            "name": lora.name,
            "url": lora.download_url,
            "size_mb": lora.size_mb,
            "checksum": lora.checksum,
            "base_model": lora.base_model
        })
    
    # åŸºç¡€æ¨¡å‹å¼•ç”¨
    manifest["base_model"] = {
        "name": template.base_model,
        "download_sources": [
            f"https://modelscope.cn/models/{template.base_model}",
            f"https://huggingface.co/{template.base_model}"
        ],
        "notes": "è¯·ä¸‹è½½åˆ° ~/.zishu/models/ ç›®å½•"
    }
    
    return manifest
```

---

### åœºæ™¯ 2ï¸âƒ£: å…ˆä¸‹è½½æ¡Œé¢åº”ç”¨ â†’ åº”ç”¨å†…é€‰æ‹©æ¨¡æ¿ â†’ ä¸‹è½½èµ„æº

```
ç”¨æˆ·æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ç”¨æˆ·ç›´æ¥ä¸‹è½½æ¡Œé¢åº”ç”¨                                  â”‚
â”‚    â”œâ”€ ä»ç¤¾åŒºå¹³å°ä¸‹è½½é¡µé¢                                  â”‚
â”‚    â””â”€ æˆ–ä» GitHub Releases                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. å¯åŠ¨æ¡Œé¢åº”ç”¨                                          â”‚
â”‚    é¦–æ¬¡å¯åŠ¨å¼•å¯¼:                                          â”‚
â”‚    â”œâ”€ è¿æ¥åˆ°ç¤¾åŒºå¹³å° (å¯é€‰ç™»å½•)                           â”‚
â”‚    â”œâ”€ æ˜¾ç¤º"æ¨¡æ¿å¸‚åœº"                                      â”‚
â”‚    â””â”€ æ˜¾ç¤º"è‡ªå®šä¹‰åˆ›å»º"                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. é€‰æ‹©æ¨¡æ¿ (æ¥è‡ªç¤¾åŒºå¹³å°)                               â”‚
â”‚    â”œâ”€ æµè§ˆçƒ­é—¨æ¨¡æ¿                                        â”‚
â”‚    â”œâ”€ æœç´¢ç‰¹å®šé£æ ¼                                        â”‚
â”‚    â”œâ”€ æŸ¥çœ‹æ¨¡æ¿è¯¦æƒ…å’Œé¢„è§ˆ                                  â”‚
â”‚    â””â”€ ç‚¹å‡»"åº”ç”¨æ­¤æ¨¡æ¿"                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. æ¡Œé¢åº”ç”¨è‡ªåŠ¨ä¸‹è½½èµ„æº                                  â”‚
â”‚    ä¸‹è½½ç®¡ç†å™¨:                                            â”‚
â”‚    â”œâ”€ è¯»å–æ¨¡æ¿èµ„æºæ¸…å•                                    â”‚
â”‚    â”œâ”€ æ£€æŸ¥æœ¬åœ°å·²æœ‰èµ„æº (é¿å…é‡å¤ä¸‹è½½)                     â”‚
â”‚    â”œâ”€ æ‰¹é‡ä¸‹è½½ç¼ºå¤±èµ„æº                                    â”‚
â”‚    â”‚   â”œâ”€ Live2D æ¨¡å‹ â†’ ä¸‹è½½ â†’ è§£å‹ â†’ å®‰è£…                â”‚
â”‚    â”‚   â”œâ”€ LoRA é€‚é…å™¨ â†’ ä¸‹è½½ â†’ éªŒè¯ â†’ å®‰è£…                â”‚
â”‚    â”‚   â””â”€ æ’ä»¶ â†’ ä¸‹è½½ â†’ è§£å‹ â†’ å®‰è£…                       â”‚
â”‚    â”œâ”€ æ˜¾ç¤ºä¸‹è½½è¿›åº¦                                        â”‚
â”‚    â””â”€ åŸºç¡€æ¨¡å‹æç¤º (å¦‚æœæœªæ£€æµ‹åˆ°)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. è‡ªåŠ¨ç»„è£…å’Œé…ç½®                                        â”‚
â”‚    â”œâ”€ åº”ç”¨æ¨¡æ¿é…ç½®                                        â”‚
â”‚    â”œâ”€ åˆå§‹åŒ– Live2D æ¸²æŸ“                                  â”‚
â”‚    â”œâ”€ é…ç½® AI æ¨ç†å‚æ•°                                    â”‚
â”‚    â””â”€ å¯åŠ¨è§’è‰²                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å®ç°è¦ç‚¹ï¼š

**A. æ¡Œé¢åº”ç”¨ - æ¨¡æ¿å¸‚åœº**
```typescript
// src/features/template-market/TemplateMarket.tsx

export function TemplateMarket() {
  const [templates, setTemplates] = useState<Template[]>([]);
  
  useEffect(() => {
    // ä»ç¤¾åŒºå¹³å° API è·å–æ¨¡æ¿åˆ—è¡¨
    fetch('https://community.zishu.ai/api/v1/character-templates?sort=popular')
      .then(res => res.json())
      .then(data => setTemplates(data.items));
  }, []);
  
  const applyTemplate = async (templateId: string) => {
    // 1. è·å–æ¨¡æ¿è¯¦æƒ…å’Œèµ„æºæ¸…å•
    const manifest = await fetch(
      `https://community.zishu.ai/api/v1/character-templates/${templateId}/download-manifest`
    ).then(res => res.json());
    
    // 2. è°ƒç”¨ Tauri åç«¯å¼€å§‹ä¸‹è½½
    await invoke('download_template_resources', { manifest });
  };
  
  return (
    <div className="template-market">
      {templates.map(template => (
        <TemplateCard 
          key={template.id} 
          template={template}
          onApply={() => applyTemplate(template.id)}
        />
      ))}
    </div>
  );
}
```

**B. æ¡Œé¢åº”ç”¨ - Tauri åç«¯ä¸‹è½½ç®¡ç†**
```rust
// src-tauri/src/commands/download.rs

#[tauri::command]
pub async fn download_template_resources(
    manifest: DownloadManifest,
    state: State<'_, AppState>
) -> Result<(), String> {
    // 1. åˆ›å»ºä¸‹è½½ä»»åŠ¡
    let mut tasks = Vec::new();
    
    // 2. ä¸‹è½½ Live2D æ¨¡å‹
    if let Some(live2d) = &manifest.resources.live2d_model {
        tasks.push(download_file(
            &live2d.url,
            &format!("{}/live2d/{}", get_app_data_dir(), live2d.name)
        ));
    }
    
    // 3. ä¸‹è½½ LoRA é€‚é…å™¨
    if let Some(lora) = &manifest.resources.lora_adapter {
        tasks.push(download_file(
            &lora.url,
            &format!("{}/lora/{}", get_app_data_dir(), lora.name)
        ));
    }
    
    // 4. ä¸‹è½½æ’ä»¶
    for plugin in &manifest.resources.plugins {
        tasks.push(download_file(
            &plugin.url,
            &format!("{}/plugins/{}", get_app_data_dir(), plugin.name)
        ));
    }
    
    // 5. å¹¶å‘ä¸‹è½½
    let results = futures::future::join_all(tasks).await;
    
    // 6. éªŒè¯æ ¡éªŒå’Œ
    for result in results {
        verify_checksum(result?)?;
    }
    
    // 7. è§£å‹å’Œå®‰è£…
    install_resources(&manifest)?;
    
    // 8. ä¿å­˜æ¨¡æ¿é…ç½®
    save_template_config(&manifest.template_config)?;
    
    Ok(())
}

async fn download_file(url: &str, dest: &str) -> Result<PathBuf, String> {
    // ä½¿ç”¨ reqwest ä¸‹è½½æ–‡ä»¶
    // æ˜¾ç¤ºè¿›åº¦åˆ°å‰ç«¯
    // è¿”å›ä¸‹è½½çš„æ–‡ä»¶è·¯å¾„
}
```

**C. æ¡Œé¢åº”ç”¨ - èµ„æºç®¡ç†**
```typescript
// src/services/ResourceManager.ts

export class ResourceManager {
  private appDataDir: string;
  
  constructor() {
    this.appDataDir = await invoke('get_app_data_dir');
  }
  
  // æ£€æŸ¥èµ„æºæ˜¯å¦å·²å­˜åœ¨
  async checkResourceExists(type: string, name: string): Promise<boolean> {
    const path = `${this.appDataDir}/${type}/${name}`;
    return await invoke('path_exists', { path });
  }
  
  // è·å–å·²å®‰è£…çš„åŸºç¡€æ¨¡å‹åˆ—è¡¨
  async getInstalledModels(): Promise<string[]> {
    const modelsDir = `${this.appDataDir}/models`;
    return await invoke('list_directory', { path: modelsDir });
  }
  
  // åº”ç”¨æ¨¡æ¿
  async applyTemplate(templateId: string) {
    // 1. è·å–æ¨¡æ¿æ¸…å•
    const manifest = await this.getTemplateManifest(templateId);
    
    // 2. æ£€æŸ¥å“ªäº›èµ„æºå·²å­˜åœ¨
    const missingResources = await this.checkMissingResources(manifest);
    
    // 3. ä¸‹è½½ç¼ºå¤±èµ„æº
    if (missingResources.length > 0) {
      await this.downloadResources(missingResources);
    }
    
    // 4. æ£€æŸ¥åŸºç¡€æ¨¡å‹
    const baseModelExists = await this.checkResourceExists(
      'models', 
      manifest.base_model.name
    );
    
    if (!baseModelExists) {
      // æ˜¾ç¤ºæç¤ºè®©ç”¨æˆ·ä¸‹è½½åŸºç¡€æ¨¡å‹
      await this.showBaseModelDownloadGuide(manifest.base_model);
      return;
    }
    
    // 5. ç»„è£…å¹¶å¯åŠ¨
    await this.assembleAndLaunch(manifest);
  }
  
  private async showBaseModelDownloadGuide(baseModel: BaseModelInfo) {
    // æ˜¾ç¤ºå¯¹è¯æ¡†
    const shouldDownload = await dialog.confirm(
      `éœ€è¦ä¸‹è½½åŸºç¡€æ¨¡å‹ ${baseModel.name} (å¤§å°: ${baseModel.size_gb} GB)\n` +
      `æ˜¯å¦æ‰“å¼€ä¸‹è½½é¡µé¢ï¼Ÿ`,
      { type: 'info' }
    );
    
    if (shouldDownload) {
      // æ‰“å¼€æµè§ˆå™¨åˆ°ä¸‹è½½é¡µé¢
      await shell.open(baseModel.download_sources[0]);
    }
  }
}
```

---

## ğŸ“‹ å››ã€æ¥ä¸‹æ¥éœ€è¦åšçš„å·¥ä½œ

### ğŸ”¥ ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒåŸºç¡€è®¾æ–½ï¼ˆ1-2å‘¨ï¼‰

#### 1. **ç¤¾åŒºå¹³å°åç«¯ API æ‰©å±•**

```bash
# éœ€è¦åˆ›å»ºçš„æ–°ç«¯ç‚¹
community_platform/backend/app/api/v1/endpoints/

â”œâ”€â”€ character_templates.py    # â­ æ–°å¢ - è§’è‰²æ¨¡æ¿ç®¡ç†
â”œâ”€â”€ live2d_models.py          # â­ æ–°å¢ - Live2D æ¨¡å‹ç®¡ç†
â”œâ”€â”€ lora_adapters.py          # â­ æ–°å¢ - LoRA é€‚é…å™¨ç®¡ç†
â”œâ”€â”€ plugins.py                # â­ æ–°å¢ - æ’ä»¶ç®¡ç†
â”œâ”€â”€ downloads.py              # â­ æ–°å¢ - ä¸‹è½½æ¸…å•ç”Ÿæˆ
â””â”€â”€ resources.py              # â­ æ–°å¢ - èµ„æºæ–‡ä»¶ç®¡ç†
```

**å…·ä½“ä»»åŠ¡ï¼š**
- [ ] åˆ›å»ºè§’è‰²æ¨¡æ¿æ•°æ®æ¨¡å‹ (`CharacterTemplate`)
- [ ] å®ç°æ¨¡æ¿ CRUD API
- [ ] å®ç°ä¸‹è½½æ¸…å•ç”Ÿæˆ API
- [ ] åˆ›å»ºèµ„æºç®¡ç†æ•°æ®æ¨¡å‹ (`Live2DModel`, `LoRAAdapter`, `Plugin`)
- [ ] å®ç°èµ„æºä¸Šä¼ å’Œå­˜å‚¨ï¼ˆé›†æˆ OSS æˆ–ä½¿ç”¨æœ¬åœ°å­˜å‚¨ï¼‰
- [ ] å®ç°èµ„æºæµè§ˆå’Œæœç´¢ API

**é¢„è®¡å·¥ä½œé‡ï¼š** 3-4å¤©

---

#### 2. **ç¤¾åŒºå¹³å°å‰ç«¯é¡µé¢å¼€å‘**

```bash
community_platform/frontend/app/[locale]/(main)/

â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ page.tsx              # âœ… å·²å­˜åœ¨ - æ¨¡æ¿æµè§ˆé¡µé¢
â”‚   â”œâ”€â”€ [id]/page.tsx         # â­ æ–°å¢ - æ¨¡æ¿è¯¦æƒ…é¡µ
â”‚   â””â”€â”€ [id]/download/page.tsx # â­ æ–°å¢ - ä¸‹è½½é¡µé¢
â”‚
â”œâ”€â”€ resources/                 # â­ æ–°å¢ - èµ„æºç®¡ç†
â”‚   â”œâ”€â”€ live2d/page.tsx       # Live2D æ¨¡å‹æµè§ˆ
â”‚   â”œâ”€â”€ lora/page.tsx         # LoRA é€‚é…å™¨æµè§ˆ
â”‚   â””â”€â”€ plugins/page.tsx      # æ’ä»¶æµè§ˆ
â”‚
â””â”€â”€ downloads/                 # â­ æ–°å¢ - ä¸‹è½½ä¸­å¿ƒ
    â””â”€â”€ page.tsx              # æ¡Œé¢åº”ç”¨ä¸‹è½½é¡µ
```

**å…·ä½“ä»»åŠ¡ï¼š**
- [ ] å®Œå–„è§’è‰²åˆ›å»ºå™¨çš„"ä¿å­˜ä¸ºæ¨¡æ¿"åŠŸèƒ½
- [ ] åˆ›å»ºæ¨¡æ¿è¯¦æƒ…é¡µé¢
- [ ] åˆ›å»ºç»Ÿä¸€ä¸‹è½½é¡µé¢ï¼ˆæ˜¾ç¤ºæ‰€æœ‰éœ€è¦çš„èµ„æºï¼‰
- [ ] åˆ›å»ºæ¡Œé¢åº”ç”¨ä¸‹è½½é¡µé¢
- [ ] å®ç°èµ„æºæµè§ˆå’Œæœç´¢ UI

**é¢„è®¡å·¥ä½œé‡ï¼š** 4-5å¤©

---

#### 3. **æ¡Œé¢åº”ç”¨æ ¸å¿ƒå¼€å‘** â­â­â­ **æœ€å…³é”®**

```bash
desktop_app/

â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â”œâ”€â”€ template-market/      # â­ æ–°å¢ - æ¨¡æ¿å¸‚åœº
â”‚   â”‚   â”‚   â”œâ”€â”€ TemplateMarket.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TemplateCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TemplateDetail.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ resource-manager/     # â­ æ–°å¢ - èµ„æºç®¡ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ResourceManager.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ DownloadProgress.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ResourceList.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ character-runtime/    # â­ æ–°å¢ - è§’è‰²è¿è¡Œæ—¶
â”‚   â”‚       â”œâ”€â”€ Live2DRenderer.tsx
â”‚   â”‚       â”œâ”€â”€ AIChat.tsx
â”‚   â”‚       â””â”€â”€ CharacterWindow.tsx
â”‚   â”‚
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ api.ts                # API å®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ download.ts           # ä¸‹è½½æœåŠ¡
â”‚       â””â”€â”€ local-ai.ts           # æœ¬åœ° AI æ¨ç†
â”‚
â””â”€â”€ src-tauri/src/
    â”œâ”€â”€ commands/
    â”‚   â”œâ”€â”€ download.rs           # â­ æ–°å¢ - ä¸‹è½½ç®¡ç†
    â”‚   â”œâ”€â”€ resource.rs           # â­ æ–°å¢ - èµ„æºç®¡ç†
    â”‚   â”œâ”€â”€ ai_inference.rs       # â­ æ–°å¢ - AI æ¨ç†
    â”‚   â””â”€â”€ live2d.rs             # â­ æ–°å¢ - Live2D é›†æˆ
    â”‚
    â””â”€â”€ services/
        â”œâ”€â”€ download_manager.rs   # ä¸‹è½½ç®¡ç†å™¨
        â”œâ”€â”€ model_loader.rs       # æ¨¡å‹åŠ è½½å™¨
        â””â”€â”€ inference_engine.rs   # æ¨ç†å¼•æ“
```

**å…·ä½“ä»»åŠ¡ï¼š**
- [ ] å®ç°ä¸ç¤¾åŒºå¹³å°çš„ API å¯¹æ¥
- [ ] å®ç°æ¨¡æ¿å¸‚åœº UI
- [ ] å®ç°ä¸‹è½½ç®¡ç†å™¨ï¼ˆå¤šçº¿ç¨‹ä¸‹è½½ã€æ–­ç‚¹ç»­ä¼ ã€è¿›åº¦æ˜¾ç¤ºï¼‰
- [ ] å®ç°èµ„æºç®¡ç†ç³»ç»Ÿï¼ˆå®‰è£…ã€å¸è½½ã€ç‰ˆæœ¬ç®¡ç†ï¼‰
- [ ] é›†æˆ Live2D Web SDK
- [ ] é›†æˆæœ¬åœ° AI æ¨ç†ï¼ˆä½¿ç”¨ llama.cpp æˆ– llama-cpp-pythonï¼‰
- [ ] å®ç°æ¨¡æ¿åº”ç”¨å’Œè§’è‰²å¯åŠ¨æµç¨‹

**é¢„è®¡å·¥ä½œé‡ï¼š** 7-10å¤©

---

### ğŸš€ ç¬¬äºŒé˜¶æ®µï¼šåŠŸèƒ½å®Œå–„ï¼ˆ2-3å‘¨ï¼‰

#### 4. **èµ„æºä¸Šä¼ å’Œç®¡ç†ç³»ç»Ÿ**
- [ ] å®ç°ç”¨æˆ·ä¸Šä¼  Live2D æ¨¡å‹
- [ ] å®ç°ç”¨æˆ·ä¸Šä¼  LoRA é€‚é…å™¨
- [ ] å®ç°ç”¨æˆ·ä¸Šä¼ æ’ä»¶
- [ ] æ–‡ä»¶æ ¡éªŒå’Œç—…æ¯’æ‰«æ
- [ ] èµ„æºå®¡æ ¸æµç¨‹

#### 5. **æ¡Œé¢åº”ç”¨æ‰“åŒ…åŠŸèƒ½**
- [ ] å®ç°"æ‰“åŒ…ä¸ºç‹¬ç«‹åº”ç”¨"åŠŸèƒ½
- [ ] æ”¯æŒ Windows/macOS/Linux æ‰“åŒ…
- [ ] ç”Ÿæˆå®‰è£…åŒ…

#### 6. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
- [ ] é¦–æ¬¡ä½¿ç”¨å¼•å¯¼
- [ ] ç¦»çº¿æ¨¡å¼æ”¯æŒ
- [ ] è‡ªåŠ¨æ›´æ–°æœºåˆ¶
- [ ] é”™è¯¯å¤„ç†å’Œå‹å¥½æç¤º

---

### ğŸ¨ ç¬¬ä¸‰é˜¶æ®µï¼šæµ‹è¯•å’Œéƒ¨ç½²ï¼ˆ1-2å‘¨ï¼‰

#### 7. **æµ‹è¯•**
- [ ] ä¿®å¤åç«¯æµ‹è¯•
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] ç”¨æˆ·æµ‹è¯•

#### 8. **éƒ¨ç½²**
- [ ] ç¤¾åŒºå¹³å°éƒ¨ç½²
- [ ] CDN é…ç½®
- [ ] ç›‘æ§å’Œæ—¥å¿—

#### 9. **æ–‡æ¡£**
- [ ] ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ
- [ ] å¼€å‘è€…æ–‡æ¡£
- [ ] API æ–‡æ¡£

---

## ğŸ“Š äº”ã€å·¥ä½œä¼˜å…ˆçº§æ’åº

### âš¡ P0 - ç«‹å³å¼€å§‹ï¼ˆæ ¸å¿ƒæµç¨‹ï¼‰

1. **åˆ›å»ºè§’è‰²æ¨¡æ¿ API** â† è®©ç”¨æˆ·èƒ½ä¿å­˜æ¨¡æ¿
2. **æ¨¡æ¿ä¸‹è½½æ¸…å• API** â† ç”Ÿæˆè¦ä¸‹è½½çš„èµ„æºåˆ—è¡¨
3. **æ¡Œé¢åº”ç”¨ä¸‹è½½é¡µé¢** â† è®©ç”¨æˆ·èƒ½ä¸‹è½½æ¡Œé¢åº”ç”¨
4. **æ¡Œé¢åº”ç”¨ - æ¨¡æ¿å¸‚åœº** â† è®©ç”¨æˆ·èƒ½åœ¨åº”ç”¨å†…çœ‹åˆ°æ¨¡æ¿
5. **æ¡Œé¢åº”ç”¨ - ä¸‹è½½ç®¡ç†å™¨** â† è®©åº”ç”¨èƒ½ä¸‹è½½èµ„æº

### ğŸ”¥ P1 - ç¬¬äºŒå‘¨å¼€å§‹ï¼ˆåŠŸèƒ½å®Œå–„ï¼‰

6. **èµ„æºç®¡ç† API** â† Live2D æ¨¡å‹ã€LoRAã€æ’ä»¶çš„ç®¡ç†
7. **æ¡Œé¢åº”ç”¨ - Live2D æ¸²æŸ“** â† æ˜¾ç¤ºè§’è‰²
8. **æ¡Œé¢åº”ç”¨ - æœ¬åœ° AI æ¨ç†** â† è®©è§’è‰²èƒ½å¯¹è¯
9. **èµ„æºä¸Šä¼ åŠŸèƒ½** â† è®©ç”¨æˆ·èƒ½åˆ†äº«èµ„æº

### â­ P2 - ç¬¬ä¸‰å‘¨å¼€å§‹ï¼ˆä½“éªŒä¼˜åŒ–ï¼‰

10. **æ‰“åŒ…åŠŸèƒ½** â† ç”Ÿæˆç‹¬ç«‹åº”ç”¨
11. **ç”¨æˆ·å¼•å¯¼** â† é¦–æ¬¡ä½¿ç”¨ä½“éªŒ
12. **æµ‹è¯•å’Œä¿®å¤**

---

## ğŸ’¡ å…­ã€å¿«é€Ÿå¯åŠ¨å»ºè®®

### æ–¹æ¡ˆ Aï¼šä»åç«¯å¼€å§‹ï¼ˆæ¨èç»™åç«¯ç†Ÿç»ƒè€…ï¼‰

```bash
# ç¬¬1æ­¥ï¼šä¿®å¤æµ‹è¯•
cd /opt/zishu-sensei/community_platform/backend
alembic upgrade head
pytest tests/

# ç¬¬2æ­¥ï¼šåˆ›å»ºæ–° API
# åˆ›å»ºè§’è‰²æ¨¡æ¿ç›¸å…³çš„æ•°æ®æ¨¡å‹å’Œ API
# å‚è€ƒ: community_platform/backend/app/models/
#      community_platform/backend/app/api/v1/endpoints/

# ç¬¬3æ­¥ï¼šæµ‹è¯•æ–° API
curl -X POST http://localhost:8000/api/v1/character-templates ...
```

### æ–¹æ¡ˆ Bï¼šä»å‰ç«¯å¼€å§‹ï¼ˆæ¨èç»™å‰ç«¯ç†Ÿç»ƒè€…ï¼‰

```bash
# ç¬¬1æ­¥ï¼šåˆ›å»ºæ¨¡æ¿è¯¦æƒ…é¡µé¢
cd /opt/zishu-sensei/community_platform/frontend
# ç¼–è¾‘: app/[locale]/(main)/templates/[id]/page.tsx

# ç¬¬2æ­¥ï¼šåˆ›å»ºä¸‹è½½é¡µé¢
# åˆ›å»º: app/[locale]/(main)/downloads/page.tsx

# ç¬¬3æ­¥ï¼šé›†æˆåç«¯ APIï¼ˆå…ˆ mock æ•°æ®ï¼‰
```

### æ–¹æ¡ˆ Cï¼šä»æ¡Œé¢åº”ç”¨å¼€å§‹ï¼ˆæ¨èç»™å…¨æ ˆå¼€å‘è€…ï¼‰

```bash
# ç¬¬1æ­¥ï¼šå®ç°æ¨¡æ¿å¸‚åœº UI
cd /opt/zishu-sensei/desktop_app
# åˆ›å»º: src/features/template-market/

# ç¬¬2æ­¥ï¼šå®ç° API å¯¹æ¥
# ç¼–è¾‘: src/services/api.ts

# ç¬¬3æ­¥ï¼šå®ç°ä¸‹è½½ç®¡ç†å™¨
# åˆ›å»º: src-tauri/src/commands/download.rs
```

---

## ğŸ¯ ä¸ƒã€å½“å‰æœ€ç´§æ€¥çš„ 3 ä¸ªä»»åŠ¡

### âš¡ ä»»åŠ¡ 1ï¼šåˆ›å»ºè§’è‰²æ¨¡æ¿ APIï¼ˆåç«¯ï¼‰

**æ–‡ä»¶ï¼š**
- `community_platform/backend/app/models/character_template.py`
- `community_platform/backend/app/schemas/character_template.py`
- `community_platform/backend/app/api/v1/endpoints/character_templates.py`

**éœ€è¦å®ç°çš„ç«¯ç‚¹ï¼š**
```python
POST   /api/v1/character-templates          # åˆ›å»ºæ¨¡æ¿
GET    /api/v1/character-templates          # åˆ—è¡¨
GET    /api/v1/character-templates/{id}     # è¯¦æƒ…
GET    /api/v1/character-templates/{id}/download-manifest  # ä¸‹è½½æ¸…å•
PUT    /api/v1/character-templates/{id}     # æ›´æ–°
DELETE /api/v1/character-templates/{id}     # åˆ é™¤
```

---

### âš¡ ä»»åŠ¡ 2ï¼šæ¡Œé¢åº”ç”¨ä¸‹è½½é¡µé¢ï¼ˆå‰ç«¯ï¼‰

**æ–‡ä»¶ï¼š**
- `community_platform/frontend/app/[locale]/(main)/downloads/page.tsx`

**éœ€è¦åŒ…å«ï¼š**
- æ¡Œé¢åº”ç”¨å„å¹³å°ä¸‹è½½é“¾æ¥
- å®‰è£…è¯´æ˜
- ç³»ç»Ÿè¦æ±‚
- å¿«é€Ÿå¼€å§‹æŒ‡å—

---

### âš¡ ä»»åŠ¡ 3ï¼šæ¡Œé¢åº”ç”¨ - æ¨¡æ¿å¸‚åœºï¼ˆæ¡Œé¢åº”ç”¨ï¼‰

**æ–‡ä»¶ï¼š**
- `desktop_app/src/features/template-market/TemplateMarket.tsx`
- `desktop_app/src/services/api.ts`

**éœ€è¦å®ç°ï¼š**
- ä»ç¤¾åŒºå¹³å°è·å–æ¨¡æ¿åˆ—è¡¨
- æ˜¾ç¤ºæ¨¡æ¿å¡ç‰‡
- ç‚¹å‡»"åº”ç”¨æ¨¡æ¿"å¼€å§‹ä¸‹è½½æµç¨‹

---

## ğŸ—‚ï¸ å…«ã€æ•°æ®æ¨¡å‹å‚è€ƒ

### è§’è‰²æ¨¡æ¿æ•°æ®æ¨¡å‹

```python
# community_platform/backend/app/models/character_template.py

from sqlalchemy import Column, Integer, String, JSON, DateTime, Boolean, ForeignKey
from app.models.base import Base

class CharacterTemplate(Base):
    __tablename__ = "character_templates"
    
    id = Column(String, primary_key=True)
    name = Column(String, nullable=False)
    description = Column(String)
    creator_id = Column(Integer, ForeignKey("users.id"), nullable=False)
    
    # èµ„æºå¼•ç”¨
    live2d_model_id = Column(String, ForeignKey("live2d_models.id"))
    lora_adapter_id = Column(String, ForeignKey("lora_adapters.id"))
    base_model = Column(String)  # ä¾‹å¦‚: "Qwen2.5-7B"
    
    # é…ç½®
    config = Column(JSON)  # åŒ…å«æ€§æ ¼ã€å¯¹è¯é£æ ¼ç­‰é…ç½®
    
    # æ’ä»¶
    plugins = Column(JSON)  # æ’ä»¶IDåˆ—è¡¨
    
    # å…ƒæ•°æ®
    is_public = Column(Boolean, default=True)
    download_count = Column(Integer, default=0)
    rating = Column(Integer, default=0)
    
    created_at = Column(DateTime)
    updated_at = Column(DateTime)


class Live2DModel(Base):
    __tablename__ = "live2d_models"
    
    id = Column(String, primary_key=True)
    name = Column(String, nullable=False)
    description = Column(String)
    creator_id = Column(Integer, ForeignKey("users.id"))
    
    # æ–‡ä»¶ä¿¡æ¯
    file_url = Column(String)  # OSS ä¸‹è½½é“¾æ¥
    file_size_mb = Column(Integer)
    checksum = Column(String)
    
    # é¢„è§ˆ
    preview_image_url = Column(String)
    thumbnail_url = Column(String)
    
    created_at = Column(DateTime)


class LoRAAdapter(Base):
    __tablename__ = "lora_adapters"
    
    id = Column(String, primary_key=True)
    name = Column(String, nullable=False)
    description = Column(String)
    creator_id = Column(Integer, ForeignKey("users.id"))
    
    # æ¨¡å‹ä¿¡æ¯
    base_model = Column(String)  # éœ€è¦çš„åŸºç¡€æ¨¡å‹
    file_url = Column(String)
    file_size_mb = Column(Integer)
    checksum = Column(String)
    
    # å…ƒæ•°æ®
    tags = Column(JSON)
    personality_traits = Column(JSON)
    
    created_at = Column(DateTime)
```

---

## ğŸ¬ æ€»ç»“

### âœ… ä½ å·²ç»å®Œæˆäº†ä»€ä¹ˆï¼Ÿ

- âœ… ç¤¾åŒºå¹³å°åç«¯ 85% (æ ¸å¿ƒ APIã€æ•°æ®åº“ã€è®¤è¯ç³»ç»Ÿ)
- âœ… ç¤¾åŒºå¹³å°å‰ç«¯ 75% (æ ¸å¿ƒé¡µé¢å’Œç»„ä»¶)
- âœ… æ¡Œé¢åº”ç”¨æ¡†æ¶ 40% (åŸºç¡€ç»“æ„)

### ğŸ¯ æ¥ä¸‹æ¥è¦åšä»€ä¹ˆï¼Ÿ

**æŒ‰é¡ºåºï¼š**
1. åˆ›å»ºè§’è‰²æ¨¡æ¿ APIï¼ˆåç«¯ï¼‰
2. åˆ›å»ºæ¡Œé¢åº”ç”¨ä¸‹è½½é¡µé¢ï¼ˆå‰ç«¯ï¼‰
3. å®ç°æ¡Œé¢åº”ç”¨æ¨¡æ¿å¸‚åœºå’Œä¸‹è½½ç®¡ç†å™¨ï¼ˆæ¡Œé¢åº”ç”¨ï¼‰
4. é›†æˆ Live2D å’Œæœ¬åœ° AI æ¨ç†ï¼ˆæ¡Œé¢åº”ç”¨ï¼‰
5. å®Œå–„èµ„æºç®¡ç†ç³»ç»Ÿï¼ˆå‰åç«¯ï¼‰

### â±ï¸ é¢„è®¡æ—¶é—´ï¼š

- **æ ¸å¿ƒåŠŸèƒ½ä¸Šçº¿**: 4-6å‘¨
- **å®Œæ•´åŠŸèƒ½**: 6-8å‘¨

### ğŸ¤” éœ€è¦å†³ç­–çš„é—®é¢˜ï¼š

1. **èµ„æºå­˜å‚¨æ–¹æ¡ˆï¼Ÿ**
   - [ ] ä½¿ç”¨é˜¿é‡Œäº‘ OSSï¼Ÿ
   - [ ] ä½¿ç”¨ GitHub Releasesï¼Ÿ
   - [ ] æ··åˆæ–¹æ¡ˆï¼Ÿ

2. **æ¡Œé¢åº”ç”¨çš„ AI æ¨ç†ï¼Ÿ**
   - [ ] ä½¿ç”¨ llama.cppï¼Ÿ
   - [ ] ä½¿ç”¨ llama-cpp-pythonï¼Ÿ
   - [ ] ä½¿ç”¨ ONNX Runtimeï¼Ÿ

3. **å¼€å‘ä¼˜å…ˆçº§ï¼Ÿ**
   - [ ] å…ˆåšæ¡Œé¢åº”ç”¨ï¼ˆè®©ç”¨æˆ·èƒ½ç”¨ï¼‰ï¼Ÿ
   - [ ] å…ˆåšç¤¾åŒºå¹³å°ï¼ˆå»ºç«‹ç”Ÿæ€ï¼‰ï¼Ÿ
   - [ ] å¹¶è¡Œå¼€å‘ï¼Ÿ

---

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼š** è¯·å‘Šè¯‰æˆ‘ä½ æƒ³ä»å“ªä¸ªä»»åŠ¡å¼€å§‹ï¼Œæˆ‘å¯ä»¥å¸®ä½ ç”Ÿæˆå…·ä½“çš„ä»£ç ï¼ğŸš€

