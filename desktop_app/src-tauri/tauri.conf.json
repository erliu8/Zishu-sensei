{
    "$schema": "../node_modules/@tauri-apps/cli/schema.json",
    "build": {
        "beforeBuildCommand": "npm run build",
        "beforeDevCommand": "npm run dev",
        "devPath": "http://localhost:1424",
        "distDir": "../dist",
        "withGlobalTauri": false
    },
    "package": {
        "productName": "Zishu Sensei",
        "version": "1.0.0"
    },
    "tauri": {
        "allowlist": {
            "all": false,
            "shell": {
                "all": false,
                "open": true,
                "scope": [
                    {
                        "name": "open-url",
                        "cmd": "open",
                        "args": [
                            {
                                "validator": "^https?://"
                            }
                        ]
                    }
                ]
            },
            "window": {
                "all": false,
                "close": true,
                "hide": true,
                "show": true,
                "maximize": true,
                "minimize": true,
                "unmaximize": true,
                "unminimize": true,
                "startDragging": true,
                "print": false,
                "setResizable": true,
                "setTitle": true,
                "setMaximizable": true,
                "setMinimizable": true,
                "setClosable": true,
                "setDecorations": true,
                "setAlwaysOnTop": true,
                "setContentProtected": false,
                "setSize": true,
                "setMinSize": true,
                "setMaxSize": true,
                "setPosition": true,
                "setFullscreen": false,
                "setFocus": true,
                "setIcon": true,
                "setSkipTaskbar": true,
                "setCursorGrab": false,
                "setCursorVisible": true,
                "setCursorIcon": true,
                "setCursorPosition": false,
                "setIgnoreCursorEvents": false,
                "create": true,
                "center": true
            },
            "app": {
                "all": false,
                "show": true,
                "hide": true
            },
            "path": {
                "all": true
            },
            "fs": {
                "all": false,
                "readFile": true,
                "writeFile": true,
                "readDir": true,
                "copyFile": true,
                "createDir": true,
                "removeDir": true,
                "removeFile": true,
                "renameFile": true,
                "exists": true,
                "scope": [
                    "$APPCONFIG",
                    "$APPDATA",
                    "$APPLOCALDATA",
                    "$APPCACHE",
                    "$APPLOG",
                    "$DOCUMENT",
                    "$DOWNLOAD",
                    "$DESKTOP",
                    "$PICTURE",
                    "$VIDEO",
                    "$AUDIO",
                    "$HOME/zishu-sensei/**",
                    "$TEMP/zishu-sensei/**"
                ]
            },
            "dialog": {
                "all": false,
                "ask": true,
                "confirm": true,
                "message": true,
                "open": true,
                "save": true
            },
            "notification": {
                "all": true
            },
            "globalShortcut": {
                "all": true
            },
            "os": {
                "all": true
            },
            "http": {
                "all": false,
                "request": true,
                "scope": [
                    "https://api.zishu.dev/**",
                    "https://market.zishu.dev/**",
                    "https://update.zishu.dev/**",
                    "https://cdn.zishu.dev/**",
                    "https://live2d.zishu.dev/**"
                ]
            },
            "process": {
                "all": false,
                "relaunch": true,
                "exit": true
            },
            "clipboard": {
                "all": false,
                "readText": true,
                "writeText": true
            }
        },
        "bundle": {
            "active": true,
            "targets": "all",
            "identifier": "dev.zishu.sensei",
            "icon": [],
            "resources": [
                "assets/**/*",
                "live2d/**/*"
            ],
            "externalBin": [],
            "copyright": "Â© 2024 Zishu Team. All rights reserved.",
            "category": "Productivity",
            "shortDescription": "æ™ºèƒ½æ¡Œé¢å® ç‰©AIåŠ©æ‰‹",
            "longDescription": "Zishu Sensei æ˜¯ä¸€ä¸ªåŸºäº Tauri + React + Live2D æŠ€æœ¯æ ˆå¼€å‘çš„æ™ºèƒ½æ¡Œé¢å® ç‰©åº”ç”¨ã€‚å®ƒæä¾›å¯çˆ±çš„ Live2D è§’è‰²å±•ç¤ºã€æ™ºèƒ½å¯¹è¯äº¤äº’ã€å³å‡»è®¾ç½®èœå•ã€é€‚é…å™¨ç®¡ç†ã€ä¸»é¢˜åˆ‡æ¢å’Œç³»ç»Ÿæ‰˜ç›˜ç­‰åŠŸèƒ½ï¼Œè®©æ‚¨çš„æ¡Œé¢å·¥ä½œæ›´åŠ æœ‰è¶£å’Œé«˜æ•ˆã€‚",
            "deb": {
                "depends": [
                    "libwebkit2gtk-4.1-0",
                    "libgtk-3-0",
                    "libayatana-appindicator3-1"
                ],
                "section": "utils",
                "priority": "optional",
                "changelog": "See https://github.com/zishu-team/zishu-sensei/releases"
            },
            "macOS": {
                "frameworks": [],
                "minimumSystemVersion": "10.13",
                "exceptionDomain": "localhost",
                "signingIdentity": null,
                "providerShortName": null,
                "entitlements": "entitlements.plist"
            },
            "windows": {
                "certificateThumbprint": null,
                "digestAlgorithm": "sha256",
                "timestampUrl": "",
                "tsp": false,
                "wix": {
                    "language": [
                        "zh-CN",
                        "en-US"
                    ],
                    "template": "wix/main.wxs",
                    "fragmentPaths": [
                        "wix/fragment.wxs"
                    ],
                    "componentGroupRefs": [
                        "Live2DModels",
                        "Assets"
                    ],
                    "componentRefs": [
                        "myapp.exe"
                    ],
                    "featureGroupRefs": [],
                    "featureRefs": [],
                    "mergeRefs": [],
                    "skipWebviewInstall": false,
                    "license": "LICENSE",
                    "enableElevatedUpdateTask": false,
                    "bannerPath": "wix/banner.bmp",
                    "dialogImagePath": "wix/dialog.bmp"
                },
                "nsis": {
                    "template": "nsis/installer.nsi",
                    "license": "LICENSE",
                    "headerImage": "nsis/header.bmp",
                    "sidebarImage": "nsis/sidebar.bmp",
                    "installerIcon": "icons/icon.ico",
                    "installMode": "currentUser",
                    "languages": [
                        "SimpChinese",
                        "English"
                    ],
                    "displayLanguageSelector": true,
                    "customLanguageFiles": {
                        "SimpChinese": "nsis/languages/SimpChinese.nsh",
                        "English": "nsis/languages/English.nsh"
                    }
                }
            }
        },
        "security": {
            "csp": "default-src 'self' data: blob: 'unsafe-inline' 'unsafe-eval'; connect-src 'self' https://api.zishu.dev https://market.zishu.dev https://update.zishu.dev https://cdn.zishu.dev https://live2d.zishu.dev ws://localhost:* wss://localhost:*; img-src 'self' data: blob: https://cdn.zishu.dev https://live2d.zishu.dev; media-src 'self' data: blob: https://cdn.zishu.dev; font-src 'self' data: https://fonts.googleapis.com https://fonts.gstatic.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'",
            "devCsp": "default-src 'self' data: blob: 'unsafe-inline' 'unsafe-eval' mediastream:; connect-src 'self' http://localhost:* ws://localhost:* wss://localhost:*; img-src 'self' data: blob: http://localhost:*; media-src 'self' data: blob: http://localhost:* mediastream:; font-src 'self' data: http://localhost:*; style-src 'self' 'unsafe-inline' http://localhost:*; script-src 'self' 'unsafe-inline' 'unsafe-eval' http://localhost:*",
            "freezePrototype": false,
            "dangerousDisableAssetCspModification": false
        },
        "windows": [
            {
                "fullscreen": false,
                "resizable": true,
                "title": "Zishu Sensei",
                "width": 400,
                "height": 600,
                "minWidth": 300,
                "minHeight": 400,
                "maxWidth": 800,
                "maxHeight": 1200,
                "center": true,
                "x": null,
                "y": null,
                "alwaysOnTop": true,
                "visible": true,
                "decorations": false,
                "transparent": true,
                "maximized": false,
                "theme": "Light",
                "titleBarStyle": "Transparent",
                "hiddenTitle": true,
                "acceptFirstMouse": true,
                "tabbingIdentifier": null,
                "additionalBrowserArgs": "--disable-features=msWebOOUI,msPdfOOUI,msSmartScreenProtection --disable-web-security --allow-running-insecure-content --enable-webgl --enable-webgl2 --enable-accelerated-2d-canvas --enable-gpu-rasterization --ignore-gpu-blacklist --disable-gpu-sandbox --enable-unsafe-webgpu --use-gl=desktop --enable-features=VaapiVideoDecoder --use-fake-ui-for-media-stream --enable-usermedia-screen-capturing --auto-accept-camera-and-microphone-capture",
                "label": "main",
                "url": "index.html",
                "fileDropEnabled": true,
                "skipTaskbar": false,
                "closable": true,
                "minimizable": true,
                "maximizable": false,
                "focus": true,
                "contentProtected": false,
                "userAgent": "Zishu-Sensei/1.0.0 (Desktop Pet Application)"
            }
        ],
        "systemTray": {
            "iconPath": "icons/tray-icon.png",
            "iconAsTemplate": true,
            "menuOnLeftClick": false,
            "title": "Zishu Sensei"
        },
        "updater": {
            "active": false,
            "endpoints": [
                "https://update.zishu.dev/{{target}}/{{arch}}/{{current_version}}"
            ],
            "dialog": true
        },
        "cli": {
            "description": "Zishu Sensei - æ™ºèƒ½æ¡Œé¢å® ç‰©AIåŠ©æ‰‹",
            "longDescription": "ä¸€ä¸ªåŸºäº Tauri + React + Live2D çš„æ™ºèƒ½æ¡Œé¢å® ç‰©åº”ç”¨ï¼Œæä¾›å¯çˆ±çš„è§’è‰²å±•ç¤ºå’Œæ™ºèƒ½å¯¹è¯äº¤äº’åŠŸèƒ½ã€‚",
            "beforeHelp": "ğŸ¾ æ¬¢è¿ä½¿ç”¨ Zishu Senseiï¼",
            "afterHelp": "æ›´å¤šä¿¡æ¯è¯·è®¿é—®: https://zishu.dev",
            "args": [
                {
                    "name": "config",
                    "short": "c",
                    "takesValue": true,
                    "description": "æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„"
                },
                {
                    "name": "character",
                    "takesValue": true,
                    "description": "æŒ‡å®šå¯åŠ¨æ—¶çš„è§’è‰²"
                },
                {
                    "name": "theme",
                    "takesValue": true,
                    "description": "æŒ‡å®šå¯åŠ¨æ—¶çš„ä¸»é¢˜"
                },
                {
                    "name": "debug",
                    "short": "d",
                    "description": "å¯ç”¨è°ƒè¯•æ¨¡å¼"
                },
                {
                    "name": "minimized",
                    "short": "m",
                    "description": "æœ€å°åŒ–å¯åŠ¨"
                },
                {
                    "name": "no-tray",
                    "description": "ç¦ç”¨ç³»ç»Ÿæ‰˜ç›˜"
                }
            ],
            "subcommands": {
                "reset": {
                    "description": "é‡ç½®åº”ç”¨é…ç½®åˆ°é»˜è®¤å€¼",
                    "args": [
                        {
                            "name": "confirm",
                            "short": "y",
                            "description": "è·³è¿‡ç¡®è®¤æç¤º"
                        }
                    ]
                },
                "export": {
                    "description": "å¯¼å‡ºåº”ç”¨é…ç½®",
                    "args": [
                        {
                            "name": "output",
                            "short": "o",
                            "takesValue": true,
                            "description": "è¾“å‡ºæ–‡ä»¶è·¯å¾„"
                        }
                    ]
                },
                "import": {
                    "description": "å¯¼å…¥åº”ç”¨é…ç½®",
                    "args": [
                        {
                            "name": "input",
                            "short": "i",
                            "takesValue": true,
                            "required": true,
                            "description": "é…ç½®æ–‡ä»¶è·¯å¾„"
                        }
                    ]
                }
            }
        }
    },
    "plugins": {
        "updater": {
            "endpoints": [
                "https://update.zishu.dev/{{target}}/{{arch}}/{{current_version}}"
            ]
        }
    }
}