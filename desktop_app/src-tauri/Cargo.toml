[package]
name = "zishu-sensei"
version = "1.0.0"
description = "ğŸ¾ Zishu-sensei æ™ºèƒ½æ¡Œé¢å® ç‰©åº”ç”¨ - åŸºäº Tauri + React + Live2D çš„å¯çˆ±AIåŠ©æ‰‹"
authors = ["Zishu Team <team@zishu.dev>"]
license = "MIT"
repository = "https://github.com/zishu-team/zishu-sensei"
edition = "2021"
rust-version = "1.70"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[build-dependencies]
tauri-build = { version = "1.5", features = [] }

[dependencies]
# Tauri æ ¸å¿ƒæ¡†æ¶
tauri = { version = "1.5", features = [ "window-set-focus", "window-set-always-on-top", "fs-rename-file", "fs-read-dir", "window-set-decorations", "window-unminimize", "window-minimize", "window-center", "window-set-size", "app-hide", "window-show", "fs-write-file", "window-unmaximize", "window-close", "window-set-skip-taskbar", "window-set-resizable", "window-set-min-size", "notification-all", "path-all", "clipboard-read-text", "process-relaunch", "window-set-minimizable", "window-start-dragging", "window-set-max-size", "fs-remove-file", "fs-create-dir", "window-set-title", "window-set-cursor-visible", "window-hide", "app-show", "fs-read-file", "window-set-icon", "clipboard-write-text", "window-set-cursor-icon", "dialog-open", "window-set-position", "fs-copy-file", "dialog-confirm", "window-maximize", "dialog-save", "os-all", "dialog-ask", "fs-remove-dir", "shell-open", "http-request", "fs-exists", "window-set-maximizable", "cli", "dialog-message", "window-set-closable", "window-create", "process-exit", "global-shortcut-all",
    "devtools",
    "icon-ico",
    "icon-png",
    "system-tray",
    "updater"] }

# åºåˆ—åŒ–å’Œååºåˆ—åŒ–
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# å¼‚æ­¥è¿è¡Œæ—¶
tokio = { version = "1.0", features = ["full"] }
futures = "0.3"

# HTTP å®¢æˆ·ç«¯ (ç”¨äº API è°ƒç”¨)
reqwest = { version = "0.11", features = ["json", "stream", "multipart"] }

# æ—¥å¿—ç³»ç»Ÿ
log = "0.4"
env_logger = "0.10"
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter"] }
tracing-appender = "0.2"

# é…ç½®ç®¡ç†
config = "0.13"
directories = "5.0"

# ç³»ç»Ÿè¯­è¨€æ£€æµ‹
sys-locale = "0.3"

# æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
walkdir = "2.4"
notify = "6.1"

# æ•°æ®åº“ (SQLite)
rusqlite = { version = "0.29", features = ["bundled"] }
sqlx = { version = "0.7", features = ["runtime-tokio-rustls", "sqlite"] }

# åŠ å¯†å’Œå®‰å…¨
sha2 = "0.10"
uuid = { version = "1.6", features = ["v4", "serde"] }
# AES-GCM åŠ å¯†
aes-gcm = "0.10"
# å¯†é’¥æ´¾ç”Ÿï¼ˆPBKDF2, Argon2ï¼‰
argon2 = "0.5"
# å¯†é’¥é“¾é›†æˆï¼ˆè·¨å¹³å°å¯†é’¥å­˜å‚¨ï¼‰
keyring = "2.2"
# é¢å¤–çš„åŠ å¯†å·¥å…·
ring = "0.17"
# å®‰å…¨éšæœºæ•°ç”Ÿæˆ
getrandom = "0.2"

# æ—¶é—´å¤„ç†
chrono = { version = "0.4", features = ["serde"] }
chrono-tz = "0.8"

# é”™è¯¯å¤„ç†
anyhow = "1.0"
thiserror = "1.0"

# ç³»ç»Ÿä¿¡æ¯
sysinfo = "0.29"

# å¼€æœºè‡ªå¯
auto-launch = "0.5"

# çª—å£ç®¡ç†å’Œç³»ç»Ÿé›†æˆ
window-shadows = "0.2"
window-vibrancy = "0.4"

# å›¾åƒå¤„ç† (ç”¨äºå›¾æ ‡å’Œèµ„æº)
image = "0.24"

# ç½‘ç»œå’Œ WebSocket
tungstenite = "0.20"
tokio-tungstenite = "0.20"

# å‹ç¼©å’Œè§£å‹
zip = "0.6"
tar = "0.4"
flate2 = "1.0"

# è¿›ç¨‹ç®¡ç†
subprocess = "0.2"

# æ­£åˆ™è¡¨è¾¾å¼
regex = "1.10"

# å‘½ä»¤è¡Œå‚æ•°è§£æ
clap = { version = "4.4", features = ["derive"] }

# è·¨å¹³å°è·¯å¾„å¤„ç†
path-clean = "1.0"

# å†…å­˜æ˜ å°„æ–‡ä»¶
memmap2 = "0.9"

# éšæœºæ•°ç”Ÿæˆ
rand = "0.8"

# Base64 ç¼–ç 
base64 = "0.21"

# URL å¤„ç†
url = "2.4"

# æ¨¡æ¿å¼•æ“ (ç”¨äºé…ç½®æ–‡ä»¶ç”Ÿæˆ)
handlebars = "4.4"

# å¹¶å‘å’ŒåŒæ­¥
parking_lot = "0.12"
dashmap = "5.5"
lazy_static = "1.4"

# æ€§èƒ½ç›‘æ§
metrics = "0.21"
dirs = "6.0.0"
num_cpus = "1.17.0"

# å¹³å°ç‰¹å®šä¾èµ–
[target.'cfg(windows)'.dependencies]
winapi = { version = "0.3", features = [
    "winuser",
    "shellapi",
    "processthreadsapi",
    "winbase",
    "handleapi",
    "synchapi",
    "winnt"
] }
windows = { version = "0.51", features = [
    "Win32_Foundation",
    "Win32_System_Threading",
    "Win32_UI_Shell",
    "Win32_UI_WindowsAndMessaging"
] }

[target.'cfg(target_os = "macos")'.dependencies]
cocoa = "0.25"
objc = "0.2"

# [target.'cfg(target_os = "linux")'.dependencies]
# gtk = "0.18"
# webkit2gtk = "0.18"

[features]
default = ["custom-protocol"]
custom-protocol = ["tauri/custom-protocol"]

# å¼€å‘æ¨¡å¼ç‰¹æ€§
dev = [
    "tauri/devtools"
]

# ç”Ÿäº§æ¨¡å¼ä¼˜åŒ–
production = []

# å®éªŒæ€§åŠŸèƒ½
experimental = [
    "tauri/api-all"
]

# Live2D é›†æˆ (å¯é€‰)
live2d = []

# è¯­éŸ³åŠŸèƒ½ (å¯é€‰)
voice = []

# æ’ä»¶ç³»ç»Ÿ (å¯é€‰)
plugins = []

[profile.dev]
# å¼€å‘æ¨¡å¼é…ç½®
opt-level = 0
debug = true
split-debuginfo = "unpacked"
debug-assertions = true
overflow-checks = true
lto = false
panic = "unwind"
incremental = true
codegen-units = 256
rpath = false

[profile.release]
# ç”Ÿäº§æ¨¡å¼ä¼˜åŒ–é…ç½®
opt-level = 3
debug = false
split-debuginfo = "packed"
debug-assertions = false
overflow-checks = false
lto = true
panic = "abort"
incremental = false
codegen-units = 1
rpath = false
strip = true

[profile.release-with-debug]
# å¸¦è°ƒè¯•ä¿¡æ¯çš„å‘å¸ƒç‰ˆæœ¬
inherits = "release"
debug = true
strip = false

# å·¥ä½œç©ºé—´é…ç½® (å¦‚æœéœ€è¦)
[workspace]
members = [
    ".",
    # å¯ä»¥æ·»åŠ å…¶ä»–ç›¸å…³çš„ Rust é¡¹ç›®
]

# å…ƒæ•°æ®
[package.metadata.tauri]
# Tauri ç‰¹å®šçš„å…ƒæ•°æ®é…ç½®
bundle = true
category = "Productivity"
short-description = "æ™ºèƒ½æ¡Œé¢å® ç‰©AIåŠ©æ‰‹"
long-description = """
Zishu-sensei æ˜¯ä¸€ä¸ªåŸºäº Tauri + React + Live2D æŠ€æœ¯æ ˆå¼€å‘çš„æ™ºèƒ½æ¡Œé¢å® ç‰©åº”ç”¨ã€‚
å®ƒæä¾›å¯çˆ±çš„ Live2D è§’è‰²å±•ç¤ºã€æ™ºèƒ½å¯¹è¯äº¤äº’ã€å³å‡»è®¾ç½®èœå•ã€é€‚é…å™¨ç®¡ç†ã€
ä¸»é¢˜åˆ‡æ¢å’Œç³»ç»Ÿæ‰˜ç›˜ç­‰åŠŸèƒ½ï¼Œè®©æ‚¨çš„æ¡Œé¢å·¥ä½œæ›´åŠ æœ‰è¶£å’Œé«˜æ•ˆã€‚

ä¸»è¦ç‰¹æ€§ï¼š
â€¢ ğŸ­ Live2D è§’è‰²å±•ç¤º - å¯çˆ±çš„æ¡Œé¢å® ç‰©å½¢è±¡
â€¢ ğŸ’¬ æ™ºèƒ½å¯¹è¯äº¤äº’ - åŸºäºé€‚é…å™¨ç³»ç»Ÿçš„AIå¯¹è¯
â€¢ âš™ï¸ å³å‡»è®¾ç½®èœå• - ä¾¿æ·çš„åŠŸèƒ½é…ç½®
â€¢ ğŸ”§ é€‚é…å™¨ç®¡ç† - æ’ä»¶åŒ–åŠŸèƒ½æ‰©å±•
â€¢ ğŸ¨ ä¸»é¢˜åˆ‡æ¢ - å¤šç§è§†è§‰é£æ ¼
â€¢ ğŸ“± ç³»ç»Ÿæ‰˜ç›˜ - åå°è¿è¡Œå’Œå¿«æ·æ“ä½œ
"""

# æ–‡æ¡£é…ç½®
[package.metadata.docs.rs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]

# æµ‹è¯•ä¾èµ–
[dev-dependencies]
# æµ‹è¯•æ¡†æ¶
tokio-test = "0.4"
tempfile = "3.8"

# Mock å’Œæµ‹è¯•å·¥å…·
mockall = "0.12"
mockito = "1.2"
wiremock = "0.5"

# æµ‹è¯•æ–­è¨€
assert_matches = "1.5"
proptest = "1.4"

# æµ‹è¯•æ•°æ®ç”Ÿæˆ
fake = "2.9"
quickcheck = "1.0"

# æ€§èƒ½æµ‹è¯•
criterion = "0.5"

# é›†æˆæµ‹è¯•
# tauri-test = "0.2"  # æš‚æ—¶æ³¨é‡Šï¼Œå› ä¸ºåŒ…ä¸å­˜åœ¨

# å‘å¸ƒé…ç½®
[package.metadata.release]
pre-release-replacements = [
    { file = "README.md", search = "zishu-sensei = \"[^\"]*\"", replace = "zishu-sensei = \"{{version}}\"" },
    { file = "src-tauri/tauri.conf.json", search = "\"version\": \"[^\"]*\"", replace = "\"version\": \"{{version}}\"" },
]
